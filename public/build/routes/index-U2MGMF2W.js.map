{
  "version": 3,
  "sources": ["browser-route-module:/Users/mitch/code/vbvf/app/routes/index.js?browser", "../../../app/routes/index.js", "../../../app/old-app/components/preview.js"],
  "sourcesContent": ["export { default, links } from \"/Users/mitch/code/vbvf/app/routes/index.js\";", "import React, { useState, useEffect } from \"react\";\nimport HomeStyles from \"../old-app/styles/css/home.css\";\nimport PreviewStyles from \"../old-app/styles/css/preview.css\";\nimport Button from \"../old-app/components/button\";\nimport { Spinner } from \"reactstrap\";\nimport {\n  getOrdinalNum,\n  nthSundayHasCome,\n  nthWeekdayOfMonth,\n  sanity,\n  sanityUrlFor,\n} from \"../old-app/util/index\";\nimport BibleTeaching from \"../old-app/images/home_page/bible-teaching.jpg\";\nimport DailyBread from \"../old-app/images/home_page/daily_bread.jpeg\";\nimport MeetandGreet from \"../old-app/images/home_page/MeetandGreet.jpg\";\nimport BaptismPhoto from \"../old-app/images/home_page/anthony_baptism_horizontal_c.jpg\";\n\nimport Preview from \"../old-app/components/preview\";\nimport AlertBubble from \"../old-app/components/alert-bubble\";\nimport { livestreamHappeningNow } from \"../old-app/util\";\n\nconst monthNames = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\",\n];\n// TODO: Create separate constants file\nconst BAPTISM_WEEK_NUM = 3;\n\nconst liveStreamButtonText = () => {\n  if (livestreamHappeningNow()) {\n    return \"View livestream\";\n  } else {\n    return \"View past services\";\n  }\n};\n\nexport const links = () => {\n  return [\n    { rel: \"stylesheet\", href: HomeStyles },\n    { rel: \"stylesheet\", href: PreviewStyles },\n  ];\n};\nconst Home = () => {\n  console.log(\"home is rendering\");\n  const query = `{'pageData': *[_type == \"page\" && title == \"Home\"]{\n    paragraphs,\n    scripture,\n    ministryLeader->\n  }, 'childrensUnits': *[_type == \"childrensUnit\"] |order(_createdAt desc)[0...3]{\n    title,\n    unitNumber,\n    seriesImage,\n  }}`;\n\n  //eslint-disable-next-line\n  const serializers = {\n    //this helps react understand how to present links\n    marks: {\n      link: ({ mark, children }) => {\n        const { href } = mark;\n        return <a href={href}>{children}</a>;\n      },\n      list: (props) => {\n        const { type } = props;\n        const bullet = type === \"bullet\";\n        if (bullet) {\n          return <ul>{props.children}</ul>;\n        }\n        return <ol>{props.children}</ol>;\n      },\n      listItem: (props) => <li>{props.children}</li>,\n    },\n  };\n\n  //eslint-disable-next-line\n  const [pageData, setPageData] = useState([]);\n  const [childrensUnits, setChildrensUnits] = useState();\n  const [pageDataIsLoading, setPageDataIsLoading] = useState(true);\n\n  useEffect(() => {\n    sanity.fetch(query).then((result) => {\n      setChildrensUnits(result.childrensUnits);\n      setPageData(result.pageData);\n\n      setPageDataIsLoading(!pageDataIsLoading);\n    });\n    //eslint-disable-next-line\n  }, [query]);\n\n  return (\n    <div className=\"home\">\n      <div className=\"main-header\">\n        <AlertBubble />\n        <div className=\"main-header-titles\">\n          <h1>Find Joy in the Word</h1>\n          <h2>John 1:1</h2>\n          <div className=\"main-header-buttons\">\n            <Button\n              link=\"/livestream\"\n              title={liveStreamButtonText()}\n              size=\"large\"\n              color=\"bone\"\n            />\n            <Button\n              title=\"Attend a service\"\n              link=\"/attend\"\n              size=\"large\"\n              color=\"bone\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"preview-container\">\n        {/* If the third Sunday has already come this month then display the Bible Teaching preview\n           rather than the Get Baptized preview */}\n        {nthSundayHasCome(BAPTISM_WEEK_NUM) ? (\n          <Preview\n            title=\"Bible Teaching\"\n            body=\"Listen to all sermons and bible studies online.\"\n            buttonTitle=\"Listen to Bible teaching\"\n            link=\"/bible-studies/\"\n            image={BibleTeaching}\n          />\n        ) : (\n          <Preview\n            title=\"Get Baptized\"\n            body={`Verse by Verse Fellowship celebrates baptisms every month. If you've never been baptized, consider doing so with us this month on ${\n              monthNames[new Date().getMonth()]\n            } the ${getOrdinalNum(\n              nthWeekdayOfMonth(0, BAPTISM_WEEK_NUM).getDate()\n            )}.`}\n            buttonTitle=\"Register for Baptism\"\n            link=\"https://vbvf.churchcenter.com/registrations/events/1154578\"\n            image={BaptismPhoto}\n          />\n        )}\n        <Preview\n          title=\"Announcements\"\n          body=\"Check out what's happening at Verse by Verse Fellowship.\"\n          buttonTitle=\"View Announcements\"\n          link=\"/announcements\"\n          image={DailyBread}\n        />\n        <Preview\n          title=\"Connect with us\"\n          body=\"Hear about our vision, beliefs and how you can join in our\n              journey. Visit our Connect Page to learn how you can make VBVF\n              your church.\"\n          buttonTitle=\"Learn more\"\n          link=\"/connect\"\n          image={MeetandGreet}\n        />\n      </div>\n\n      {/* INSERT NEXT SERMON SERIES HERE */}\n      {/* <div className=\"series-promo\" id=\"phillippians-series\">\n          <span className=\"series-promo-desc\">\n            <img loading=\"lazy\" src={PhillippiansText} alt=\"\" />\n            <h3>Sundays at 9:00am and 11:00am</h3>\n            <p>\n              Joy in the midst of suffering is the paradoxical experience of\n              every Christian. Our sinful world induces suffering at every turn,\n              it seems, yet Christians remain resolute in their hope for good\n              things to come. This is the central message of Paul's letter to\n              Philippi.\n            </p>\n\n            <Button\n              size=\"medium\"\n              color=\"bone\"\n              link=\"bible-studies/Philippians\"\n              title=\"Listen to Philippians\"\n            />\n          </span>\n        </div> */}\n      <div className=\"childrens-content\">\n        {pageDataIsLoading ? (\n          <Spinner />\n        ) : (\n          <>\n            <h3>Check out our latest kids content!</h3>\n            <div className=\"childrens-content-preview\">\n              {childrensUnits?.map((unit) => (\n                <Preview\n                  title={unit.title}\n                  buttonTitle=\"Watch now\"\n                  color=\"gold\"\n                  link={`/childrens-content/unit-${unit.unitNumber}`}\n                  image={sanityUrlFor(unit.seriesImage).width(450)}\n                />\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n", "import React from \"react\";\nimport Button from \"./button\";\nimport PreviewStyles from \"../styles/css/preview.css\";\n\nexport function links() {\n  return [{ rel: \"stylesheet\", href: PreviewStyles }];\n}\nexport default function Preview(props) {\n  return (\n    <div className=\"preview\">\n      <img src={props.image} alt=\"\" />\n      <h4>{props.title}</h4>\n      <p>{props.body}</p>\n      <Button\n        size=\"medium\"\n        color={props.color ? props.color : \"green\"}\n        link={props.link}\n        title={props.buttonTitle}\n      />\n    </div>\n  );\n}\n"],
  "mappings": "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",
  "names": []
}
